📝 [PRD] Integrated Translation Editor (ITE)

이 문서는 ITE의 **제품 요구사항(Product Requirements Document)**입니다.
개발 과정에서 방향을 잃지 않도록 하는 나침반 역할을 합니다.

---

## 1. 제품 개요 (Product Overview)

**제품명**: Integrated Translation Editor (ITE)

**비전**: "전문 번역가가 주도권을 가지고, AI가 조력하는" 지능형 번역 워크스테이션.
번역가 본연의 작업 리듬을 방해하지 않으면서, 필요할 때 AI의 도움을 받아 효율을 높이는 경험을 제공합니다.

**핵심 컨셉**:
- 전통적인 CAT Tool의 경직된 그리드 구조를 탈피
- Notion 스타일의 자유로운 리치 텍스트 편집 환경
- AI는 요청 시에만 응답하며, 번역문 수정은 99% 사용자가 직접 수행

---

## 2. 타겟 사용자 (Target Audience)

- 게임, IT, 마케팅 분야의 인하우스 및 전문 프리랜서 번역가
- AI를 활용한 스타일 교정, 용어 일관성 검수, 문맥 최적화가 필요한 전문가
- 브라우저(검색/사전)와 에디터를 오가는 Alt-Tab 비용을 줄이고 싶은 생산성 중시 번역가

---

## 3. 핵심 기능 (Core Features)

### 3.1 TipTap 기반 "Notion 스타일" 에디터

**Document-First 편집 경험**:
- 리치 텍스트 지원: 헤딩(H1-H6), 불릿/번호 리스트, 볼드, 이탤릭, 취소선, 인용 블록
- 일반 문서(Notion/Ulysses)와 같은 가독성과 편집 자유도 제공
- 코드 에디터의 복잡한 UI를 제거한 깔끔한 인터페이스

**Source 패널 (원문/작업용 원고)**:
- 원문은 왼쪽에 배치하며, 사용자가 원문을 **붙여넣고/정리/편집**할 수 있습니다.
- AI에게는 항상 최우선 맥락(Context)으로 자동 제공됩니다.

**Focus Mode**:
- 원문 패널을 숨기고 번역문과 AI 대화에만 집중하는 레이아웃 전환 지원

### 3.2 AI 상호작용 (번역사 주도)

**핵심 원칙**:
- 번역사가 주도권을 가지고, AI는 요청 시에만 응답
- 번역문 수정은 99% 사용자가 직접 수행 (단, “문서 전체 번역”은 Preview 후 Apply 방식으로 지원)
- AI 응답은 간결하게 - 번역 요청 시 번역문만, 질문 시 답변만

**Selection → Chat (보조 UX)**:
- 에디터에서 선택한 텍스트를 **우클릭으로 채팅 입력창에 복사**하는 보조 UX
- 모델 호출 없이 컨텍스트 준비 용도 (사용자 주도)

**채팅 세션 분리 권장**:
- 질문용 탭: 내용/문맥/용어에 관한 질문 (기본)
- 번역은 “문서 전체 번역” 버튼 워크플로우(Preview→Apply)를 기본 경로로 제공

**문서 전체 번역 (Preview → Apply)**:
- Source 문서 전체를 대상으로 번역을 생성하고, 결과를 **Preview로 확인한 뒤 Apply**로 Target 문서를 **전체 덮어쓰기**합니다.
- 사용자는 Apply를 누르기 전까지 문서가 변경되지 않습니다(Non-Intrusive).
- 번역 생성 시 최근 채팅 내역(최신 10개)을 컨텍스트로 포함하여, 결정된 톤/용어/스타일을 반영합니다.

**프롬프트 전략**:
- 번역 요청: 불필요한 설명 없이 번역문만 출력
- 질문 요청: 맥락에 맞는 간결한 설명 제공

### 3.3 전문가용 컨텍스트 및 리소스 관리

**Smart Context Memory**:
- 이전 대화의 핵심 결정 사항(용어, 톤앤매너)을 요약하여 장기적인 일관성 유지
- 사용자 확인 후에만 Memory에 추가 (자동 추가 금지)

**Integrated Glossary (비벡터)**:
- 업로드한 용어집 파일을 로컬에서 직접 읽기
- 텍스트 기반 검색(룰/FTS)으로 관련 용어만 AI에게 자동 주입
- 임베딩/벡터화 없이 단순하고 예측 가능한 동작

### 3.4 LangChain.js 기반 도구 (Tools)

**검수 도구 (추후 구현)**:
- `checkSpelling`: 오탈자 체크
- `checkConsistency`: 용어 일관성 체크
- `reviewQuality`: 번역 품질 검수

**MCP 연동 (추후 예정)**:
- 웹검색
- 외부 사전 연동
- 다양한 참고 자료 검색

### 3.5 로컬 기반 프로젝트 관리

**All-in-one Project File (.ite)**:
- SQLite 기반의 단일 파일에 텍스트, 이력, 대화 로그, 설정을 모두 통합 저장
- TipTap JSON 형식으로 리치 텍스트 보존

**Snapshot History**:
- 텍스트 수정 내역뿐 아니라, AI와 나눈 대화 맥락까지 함께 보존
- 프로젝트 재개 시 모든 상태 복원

---

## 4. 사용자 경험 (UX) 원칙

**Non-Intrusive AI**:
- AI는 사용자가 명시적으로 요청할 때만 개입
- 자동 수정, 자동 적용 없음

**Keyboard-First**:
- 핵심 기능은 단축키로 제어 가능
- 마우스 없이도 효율적인 작업 흐름 유지

**Visual Clarity**:
- Notion 감성의 깔끔한 타이포그래피
- 가독성을 해치지 않는 UI 디자인

**사용자 직접 수정**:
- AI 제안은 채팅창에 텍스트로 표시
- 적용 여부와 방식은 번역사가 직접 결정
- 복사/붙여넣기 또는 참고하여 직접 타이핑

---

## 5. 성공 지표 (Success Metrics)

**Task Efficiency**:
- 기존 방식 대비 문장당 번역/수정 소요 시간 30% 이상 단축

**Context Retention**:
- AI가 이전 대화에서 결정된 용어나 스타일을 위반하는 사례 최소화

**Focus Continuity**:
- 작업 중 브라우저나 외부 툴로 창을 전환하는 횟수 70% 감소

---

## 6. 사용자 시나리오 (User Scenario)

**프로젝트 시작**:
번역가가 원문을 Source 패널에 붙여넣고, 용어집을 첨부합니다.

**집중 번역**:
원문을 보며 Target 패널에 번역문을 작성합니다.
어려운 문장은 선택 후 채팅창에 "이 문장을 더 자연스럽게 번역해줘"라고 요청합니다.

**AI 활용**:
AI가 채팅창에 번역 제안을 텍스트로 응답합니다.
번역가는 내용을 확인하고, 마음에 들면 복사하거나 참고하여 직접 수정합니다.

**검수 모드**:
원문 패널을 숨기고(Focus Mode) 전체 번역문만 읽으며 가독성을 점검합니다.
필요시 AI에게 오탈자 체크를 요청하고, 리포트를 확인합니다.

**완료 및 공유**:
모든 이력이 포함된 .ite 파일을 저장합니다.
나중에 다시 열어도 당시의 모든 대화 맥락이 복원됩니다.

---

## 7. 향후 로드맵 (Future Roadmap)

**Phase 1 (현재)**:
- TipTap 에디터 기반 편집 환경
- 멀티 탭 AI 채팅
- 기본 프로젝트 저장/로드
- 문서 전체 번역 (Preview→Apply) 버튼

**Phase 2**:
- (고도화) 문서 전체 번역 품질/일관성 향상: 서식 보존 강화, 충돌 감지(원문/번역문 변경 시 재생성 안내)
- LangChain.js Tools (오탈자/일관성/품질 검수)

**Phase 3**:
- MCP 연동 (웹검색, 외부 사전)
- 고급 용어집 관리
- 협업 기능 검토
